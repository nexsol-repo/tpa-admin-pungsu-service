= API Docs
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:
:snippets: build/generated-snippets

== Introduce

This is the Core API documentation for TPA Admin Back-office.

== 풍수해 관리 API (Pungsu Admin API)

=== 가입신청내역 조회
가입 신청 내역 리스트를 조회합니다. 사업자번호, 상호명, 연락처 등을 통한 키워드 검색과 가입 상태별 필터링을 지원합니다.

==== Curl Request
include::{snippets}/admin-insured-contract-list/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-contract-list/http-request.adoc[]

==== Query Parameters
include::{snippets}/admin-insured-contract-list/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-contract-list/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-insured-contract-list/response-fields.adoc[]

=== 계약 상세보기
특정 계약의 상세 정보(가입자 정보 및 보험 계약 상세)를 조회합니다.

==== Curl Request
include::{snippets}/admin-insured-detail/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-detail/http-request.adoc[]

==== Path Parameters
include::{snippets}/admin-insured-detail/path-parameters.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-detail/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-insured-detail/response-fields.adoc[]

=== 계약 정보 수정
가입자 정보 및 보험 계약 상세 내용을 수정합니다. 수정 완료 후 결과 메시지를 반환합니다.

==== Curl Request
include::{snippets}/admin-insured-modify/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-modify/http-request.adoc[]

==== Path Parameters
include::{snippets}/admin-insured-modify/path-parameters.adoc[]

==== Request Fields
include::{snippets}/admin-insured-modify/request-fields.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-modify/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-insured-modify/response-fields.adoc[]

=== 보험 계약 직접 등록 (신규)

관리자가 화면에서 입력한 정보를 바탕으로 새로운 보험 계약을 직접 생성합니다.
(기존 계약 수정이 아닌 완전한 신규 등록입니다.)

==== Curl Request
include::{snippets}/insured-register-direct/curl-request.adoc[]

==== HTTP Request
include::{snippets}/insured-register-direct/http-request.adoc[]

==== Request Fields
include::{snippets}/insured-register-direct/request-fields.adoc[]

==== HTTP Response
include::{snippets}/insured-register-direct/http-response.adoc[]



=== 풍수해 알림(문자+메일) 발송 API 문서화
문자,메일 보내기
==== Curl Request
include::{snippets}/admin-insured-notification-send/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-notification-send/http-request.adoc[]

==== Request Fields
include::{snippets}/admin-insured-notification-send/request-fields.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-notification-send/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-insured-notification-send/response-fields.adoc[]


=== 가입확인서 파일 업로드
가입확인서 PDF 파일을 서버에 업로드하고, 저장된 파일의 경로(Key)를 반환받습니다.

==== Curl Request
include::{snippets}/file-upload/curl-request.adoc[]

==== HTTP Request
include::{snippets}/file-upload/http-request.adoc[]

==== Request Parts
include::{snippets}/file-upload/request-parts.adoc[]

==== HTTP Response
include::{snippets}/file-upload/http-response.adoc[]

==== Response Fields
include::{snippets}/file-upload/response-fields.adoc[]

=== 가입확인서 다운로드 URL 조회
저장된 파일의 경로(Key)를 이용하여 10분간 유효한 임시 다운로드(Presigned) URL을 생성합니다.

==== Curl Request
include::{snippets}/file-presigned-url/curl-request.adoc[]

==== HTTP Request
include::{snippets}/file-presigned-url/http-request.adoc[]

==== Query Parameters
include::{snippets}/file-presigned-url/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/file-presigned-url/http-response.adoc[]

==== Response Fields
include::{snippets}/file-presigned-url/response-fields.adoc[]

=== 보험 계약 내역 엑셀 다운로드
각 보험사별 양식 또는 전체 내역을 엑셀 파일로 다운로드합니다.
검색 조건(기간, 보험사 등)을 적용하여 원하는 데이터만 추출할 수 있습니다.

==== Curl Request
include::{snippets}/admin-insured-contract-excel/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-contract-excel/http-request.adoc[]

==== Query Parameters
include::{snippets}/admin-insured-contract-excel/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-contract-excel/http-response.adoc[]

== 건축물대장 조회 API (Building Ledger API)

=== 건축물대장 상세 조회
시군구, 법정동, 번, 지 코드를 이용하여 해당 대지에 존재하는 모든 건축물대장 정보를 조회합니다.
하나의 대지(번지)에 여러 동의 건물이 존재할 수 있으므로 리스트 형태로 반환됩니다.

==== Curl Request
include::{snippets}/admin-building-ledger-search/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-building-ledger-search/http-request.adoc[]

==== Query Parameters
include::{snippets}/admin-building-ledger-search/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/admin-building-ledger-search/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-building-ledger-search/response-fields.adoc[]

=== 무료계약 엑셀 업로드
보험사로부터 수령한 무료계약 확정 리스트(엑셀)를 업로드하여 시스템 내 가입 대기 계약들을 일괄적으로 가입 완료 상태로 업데이트합니다.
삼성, 메리츠, KB, DB 각 보험사의 특정 양식을 자동으로 식별하여 처리합니다.

==== Curl Request
include::{snippets}/admin-insured-free-contract-upload/curl-request.adoc[]

==== HTTP Request
include::{snippets}/admin-insured-free-contract-upload/http-request.adoc[]

==== Request Parts
include::{snippets}/admin-insured-free-contract-upload/request-parts.adoc[]

==== HTTP Response
include::{snippets}/admin-insured-free-contract-upload/http-response.adoc[]

==== Response Fields
include::{snippets}/admin-insured-free-contract-upload/response-fields.adoc[]